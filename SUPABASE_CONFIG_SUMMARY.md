# Supabase é…ç½®å®Œæˆæ€»ç»“

## âœ… é…ç½®çŠ¶æ€

é¡¹ç›®å·²æˆåŠŸé…ç½® Supabase é›†æˆï¼ŒåŒ…å«ä»¥ä¸‹å®Œæ•´åŠŸèƒ½ï¼š

### 1. åŸºç¡€é…ç½®
- **Supabase SDK**: `@supabase/supabase-js` å·²å®‰è£…
- **ç¯å¢ƒå˜é‡**: `.env.example` å’Œ `.env` æ¨¡æ¿å·²åˆ›å»º
- **å®¢æˆ·ç«¯é…ç½®**: `src/supabase.js` å·²é…ç½®ï¼Œæ”¯æŒé™çº§åˆ°æ¨¡æ‹Ÿæ•°æ®

### 2. æ•°æ®åº“è®¾è®¡
**è¡¨ç»“æ„** (`supabase/schema.sql`):
- `poets` - è¯—äººä¿¡æ¯è¡¨
- `poems` - è¯—è¯å†…å®¹è¡¨  
- `profiles` - ç”¨æˆ·æ¡£æ¡ˆè¡¨ï¼ˆæ‰©å±• Authï¼‰
- `favorites` - æ”¶è—å…³ç³»è¡¨
- `comments` - è¯„è®ºç³»ç»Ÿè¡¨

**å®‰å…¨ç­–ç•¥**:
- å¯ç”¨ Row Level Security (RLS)
- è¯—è¯å’Œè¯—äººè¡¨ï¼šæ‰€æœ‰äººå¯è¯»
- ç”¨æˆ·ç›¸å…³è¡¨ï¼šç”¨æˆ·åªèƒ½ç®¡ç†è‡ªå·±çš„æ•°æ®

### 3. å‰ç«¯é›†æˆ
**çŠ¶æ€ç®¡ç†** (`src/stores/auth.js`):
- ç”¨æˆ·è®¤è¯çŠ¶æ€ç®¡ç†
- ç™»å½•/æ³¨å†Œ/é€€å‡ºåŠŸèƒ½

**ç»„ä»¶é›†æˆ**:
- `NavBar.vue` - å¯¼èˆªæ ç”¨æˆ·çŠ¶æ€æ˜¾ç¤º
- `PoemsView.vue` - è¯—è¯æµè§ˆå’Œæ”¶è—åŠŸèƒ½
- å…¶ä»–è§†å›¾ç»„ä»¶å·²å‡†å¤‡é›†æˆ

### 4. å¼€å‘ä½“éªŒ
**æ¨¡æ‹Ÿæ•°æ®** (`src/utils/mockData.js`):
- å®Œæ•´çš„æ¨¡æ‹Ÿ API å®¢æˆ·ç«¯
- å¼€å‘ç¯å¢ƒæ— éœ€çœŸå® Supabase è¿æ¥
- æ”¯æŒè¯—è¯æµè§ˆã€æœç´¢ã€æ”¶è—ç­‰æ“ä½œ

## ğŸš€ ä½¿ç”¨æ­¥éª¤

### æ–¹å¼ä¸€ï¼šä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼ˆç«‹å³å¯ç”¨ï¼‰
```bash
npm run dev
```
é¡¹ç›®å°†ä½¿ç”¨å†…ç½®çš„æ¨¡æ‹Ÿæ•°æ®è¿è¡Œï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚

### æ–¹å¼äºŒï¼šè¿æ¥çœŸå® Supabase
1. åˆ›å»º Supabase é¡¹ç›®å¹¶è·å– URL/Key
2. æ›´æ–° `.env` æ–‡ä»¶ä¸­çš„å®é™…å€¼
3. åœ¨ Supabase æ§åˆ¶å°è¿è¡Œ `supabase/schema.sql`
4. å¯åŠ¨é¡¹ç›®ï¼š`npm run dev`

## ğŸ“ æ–‡ä»¶ç»“æ„
```
src/
â”œâ”€â”€ supabase.js          # Supabase å®¢æˆ·ç«¯é…ç½®
â”œâ”€â”€ stores/
â”‚   â””â”€â”€ auth.js          # è®¤è¯çŠ¶æ€ç®¡ç†
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ helpers.js       # é€šç”¨å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ mockData.js      # æ¨¡æ‹Ÿæ•°æ®
â””â”€â”€ views/               # é¡µé¢ç»„ä»¶ï¼ˆå·²é›†æˆ Supabaseï¼‰
supabase/
â””â”€â”€ schema.sql           # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
```

## ğŸ”§ é…ç½®æ£€æŸ¥
è¿è¡Œæ£€æŸ¥è„šæœ¬éªŒè¯é…ç½®ï¼š
```bash
node check-supabase-config.js
```

## ğŸ’¡ å¼€å‘å»ºè®®
1. **å¼€å‘é˜¶æ®µ**: ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®å¿«é€Ÿå¼€å‘
2. **æµ‹è¯•é˜¶æ®µ**: è¿æ¥çœŸå® Supabase æµ‹è¯•åŠŸèƒ½
3. **ç”Ÿäº§éƒ¨ç½²**: ç¡®ä¿ç¯å¢ƒå˜é‡æ­£ç¡®é…ç½®

é¡¹ç›®ç°å·²å®Œå…¨æ”¯æŒ Supabase åç«¯æœåŠ¡ï¼Œå¯ä»¥å¼€å§‹åŠŸèƒ½å¼€å‘ï¼